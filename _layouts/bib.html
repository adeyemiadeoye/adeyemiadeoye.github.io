---
---
<!-- _layouts/bib.html -->
      <div class="row">

        <!-- Entry bib key -->
        <div id="{{entry.key}}" class="col-sm-10">
        {{reference}}
        
          <!-- Links/Buttons -->
          <span class="links" style="text-transform: lowercase;">
          {%- if entry.html %}
            <a href="{{ entry.html }}" class="fas fa-link" role="button">LINK</a>
          {%- endif %}
          {%- if entry.pdf %}
            {% if entry.pdf contains '://' -%}
            <a href="{{ entry.pdf }}" class="fas fa-file-pdf" role="button">PDF</a>
            {%- else -%}
            <a href="{{ entry.pdf | prepend: '/assets/pdf/' | relative_url }}" class="fas fa-file-pdf" role="button">PDF</a>
            {%- endif %}
          {%- endif %}
          {%- if entry.code %}
            <a href="{{ entry.code }}" class="fas fa-code" role="button">Code</a>
          {%- endif %}
          {%- if entry.abstract %}
            <a class="abstract fas fa-align-left" role="button">Abs</a>
          {%- endif %}
          {%- if entry.arxiv %}
            <a href="http://arxiv.org/abs/{{ entry.arxiv }}" class="fas fa-arxiv" role="button">arXiv</a>
          {%- endif %}
          {%- if entry.bibtex_show %}
            <a class="bibtex fas fa-quote-right" role="button">Bib</a>
          {%- endif %}
          {%- if entry.supp %}
            {% if entry.supp contains '://' -%}
            <a href="{{ entry.supp }}" class="btn btn-sm z-depth-0" role="button">Supp</a>
            {%- else -%}
            <a href="{{ entry.supp | prepend: '/assets/pdf/' | relative_url }}" class="btn btn-sm z-depth-0" role="button">Supp</a>
            {%- endif %}
          {%- endif %}
          {%- if entry.blog %}
            <a href="{{ entry.blog }}" class="btn btn-sm z-depth-0" role="button">Blog</a>
          {%- endif %}
          {%- if entry.poster %}
            {% if entry.poster contains '://' -%}
            <a href="{{ entry.poster }}" class="btn btn-sm z-depth-0" role="button">Poster</a>
            {%- else -%}
            <a href="{{ entry.poster | prepend: '/assets/pdf/' | relative_url }}" class="btn btn-sm z-depth-0" role="button">Poster</a>
            {%- endif %}
          {%- endif %}
          {%- if entry.slides %}
            {% if entry.slides contains '://' -%}
            <a href="{{ entry.slides }}" class="btn btn-sm z-depth-0" role="button">Slides</a>
            {%- else -%}
            <a href="{{ entry.slides | prepend: '/assets/pdf/' | relative_url }}" class="btn btn-sm z-depth-0" role="button">Slides</a>
            {%- endif %}
          {%- endif %}
          {%- if entry.website %}
            <a href="{{ entry.website }}" class="btn btn-sm z-depth-0" role="button">Website</a>
          {%- endif %}
          {%- if entry.altmetric %}
            <script type="text/javascript" src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script><div data-altmetric-id="{{ entry.altmetric }}" class="altmetric-embed" data-hide-no-mentions="true" data-hide-less-than="15" data-badge-popover="right" data-badge-type="2" style="display:inline"></div>
          {%- endif %}
          </span>

          {% if entry.abstract -%}
          <!-- Hidden abstract block -->
          <div class="abstract hidden">
            <p>{{ entry.abstract }}</p>
          </div>
          {%- endif -%}

          {% if entry.bibtex_show -%}
          <!-- Hidden bibtex block -->
          <div class="bibtex hidden">
            {% highlight bibtex %}{{ entry.bibtex | hideCustomBibtex }}{% endhighlight %}
          </div>
          {%- endif %}
        </div>
      </div>

      <script>
        document.addEventListener("DOMContentLoaded", function() {
          // Select all direct list items within the publications div
          const listItems = document.querySelectorAll('.publications ol > li');
    
          // Log the total number of list items found
          console.log(`Total list items found: ${listItems.length}`);
    
          // Check if any list items are found
          if (listItems.length === 0) {
            console.error("No list items found within '.publications ol > li'. Ensure that the bibliography tags generate <ol> and <li> elements.");
            return;
          }
    
          // Get the total number of list items
          const totalItems = listItems.length;
    
          // Iterate over each list item and assign a reverse number
          listItems.forEach((li, index) => {
            // Calculate the reverse number
            const reverseNumber = totalItems - index;
    
            // Debug: Log the current index and reverseNumber
            console.log(`Assigning number ${reverseNumber} to list item at index ${index}`);
    
            // Check if a reverse-number span already exists to avoid duplicates
            if (li.querySelector('.reverse-number')) {
              // If already has a number, skip to prevent duplication
              console.warn(`List item at index ${index} already has a reverse number. Skipping.`);
              return;
            }
    
            // Create a span element to hold the number
            const numberSpan = document.createElement('span');
            numberSpan.classList.add('reverse-number');
            // numberSpan.textContent = "[" + reverseNumber + "]";
            numberSpan.innerHTML = '&bull;';
            numberSpan.style.fontSize = 'small';
    
            // Insert the numberSpan at the beginning of the list item
            li.prepend(numberSpan);
          });
        });
      </script>
      

